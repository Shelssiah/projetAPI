<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Actions client</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

 <h1>A vos commentaires...</h1>

    <form id="client">
      <div>
        <label for="url">URL:</label>
        <input type="url" id="url" name="url" required pattern="https?://.+" title="L'URL doit commencer par http:// ou https://">
      </div>
      <div>
        <label for="comment">Commentaire:</label>
        <textarea id="comment" name="comment" rows="4" cols="50"></textarea>
      </div>
      <div>
        <label for="note">Note:</label>
        <select id="note" name="note">
          <option value="1">1/5</option>
          <option value="2">2/5</option>
          <option value="3">3/5</option>
          <option value="4">4/5</option>
          <option value="5">5/5</option>
        </select>
      </div>
      <button type="submit">Envoyer</button>
    </form>

    <script>

      const form = document.getElementById('client');

      form.addEventListener('submit', (event) => {
        event.preventDefault();


        const formData = new FormData(form);
        //const fs = require('fs');

        fetch('/annotation', {
          method: 'POST',
          body: JSON.stringify(Object.fromEntries(formData.entries())),
          headers: { 'Content-Type': 'application/json' }
        })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error(error));
      });


    </script>




</body>
</html>