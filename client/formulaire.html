<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Actions client</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

 <h1>A vos commentaires...</h1>

    <form id="client">
      <div>
        <label for="url">URL:</label>
        <input type="url" id="url" name="url" required pattern="https?://.+" title="L'URL doit commencer par http:// ou https://"/> <br/>
      </div>
      <div>
        <label for="comment">Commentaire:</label>
        <textarea id="comment" name="comment" ></textarea> <!--rows="4" cols="50"-->
      </div>
      <div>
        <label for="note">Note:</label>
        <select id="note" name="note">
          <option value="1">1 étoile</option>
          <option value="2">2 étoiles </option>
          <option value="3">3 étoiles</option>
          <option value="4">4 étoiles</option>
          <option value="5">5 étoiles</option>
        </select>
      </div>
      <button type="submit">Envoyer</button>
    </form>

    <script>

      const form = document.getElementById('client');

      form.addEventListener('submit', (event) => {
        event.preventDefault();


        const formData = new FormData(form);
        //const fs = require('fs');

        fetch('/annotation', {
          method: 'POST',
          body: JSON.stringify(Object.fromEntries(formData.entries())),
          headers: { 'Content-Type': 'application/json' }
        })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error(error));
      });


    </script>

    <br/>

    <h1> Accéder à une annotation </h1>
    <form id="uneAnnot">
     <div> 
        <label for="Annot"> Annotation : </label>
        <input type="text" name="Annot" id="idAnnot"/>
     </div>
     <div>
        <label for="formatidAnnot"> Format à chosir </label>
        <select name="formatidAnnot" id="formatidAnnot">
            <option value="html">html</option>
            <option value="json">json</option>
        </select>
     </div>
     <div>
        <button type= "submit">Envoi...</button>

     </div>
    </form>

     <br/>

     <h1> Accéder à toutes les annotations </h1>
     <form id="allAnnot">
   
     <div>
        <label for="formatAllAnnot"> Format à chosir </label>
        <select name="formatAllAnnot" id="formatAllAnnot">
            <option value="html">html</option>
            <option value="json">json</option>
        </select>
     </div>
     <div>
        <button type= "submit">Envoi...</button>

     </div>
    </form>

     <br/>

     <h1> Accéder aux annotations d'une URL</h1>
     <form id="acces">

     <div> 
        <label for="AnnotURL"> URL : </label>
        <input type="text" name="AnnotURL" id="AnnotURL"/>
     </div>
     <div>
        <label for="formatAnnotURL"> Format à chosir </label>
        <select name="formatAnnotURL" id="formatAnnotURL">
            <option value="html">html</option>
            <option value="json">json</option>
        </select>
     </div>
     <div>
        <button type= "submit">Voir</button>

     </div>
    </form>


</body>
</html>